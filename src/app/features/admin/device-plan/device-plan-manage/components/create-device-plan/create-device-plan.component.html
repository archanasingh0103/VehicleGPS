<div class="modal-header text-center">
    <h5>{{tittle}} Device Plan ( {{customerName}} )</h5>
    <div class="close-modal">
        <i class="fa fa-close" style="cursor: pointer;" (click)="cancel()"></i>
    </div>
</div>
<div class="modal-body">
    <form [formGroup]="devicePlanForm">
        <div class="_card white-bg">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label class="form-label">Plan Category</label>
                    <ngx-select-dropdown [config]="config" formControlName="deviceCategory" [options]="planCategoryList"
                        class="lg:w-[250px] sm:w-full md:w-full" (change)="onSelectPlanCategory($event)">
                    </ngx-select-dropdown>

                    @if (devicePlanForm.get('deviceCategory')?.invalid && devicePlanForm.get('deviceCategory')?.touched)
                    {
                    <span class="text-danger">Plan Category is required</span>
                    }
                </div>

                <div class="col-md-4 mb-3">
                    <label class="form-label">Plan Sub Category</label>
                    <ngx-select-dropdown [config]="config" formControlName="deviceSubCategory"
                        [options]="PlanSubCategoryList" class="lg:w-[250px] sm:w-full md:w-full">
                    </ngx-select-dropdown>
                    @if (devicePlanForm.get('deviceSubCategory')?.invalid &&
                    devicePlanForm.get('deviceSubCategory')?.touched) {
                    <span class="text-danger">Plan Sub Category is required</span>
                    }
                </div>

                <div class="col-md-4 mb-3">
                    <label class="form-label">Device Category</label>
                    <ngx-select-dropdown [config]="config" formControlName="category" [options]="categoryList"
                        class="lg:w-[250px] sm:w-full md:w-full" (change)="onSelectCategory($event)">
                    </ngx-select-dropdown>
                    @if (devicePlanForm.get('category')?.invalid && devicePlanForm.get('category')?.touched) {
                    <span class="text-danger">Device Category is required</span>
                    }
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 mb-3">
                    <label class="form-label">Device Sub Category</label>
                    <ngx-select-dropdown [config]="config" formControlName="subCategory" [options]="subCategoryList"
                        class="lg:w-[250px] sm:w-full md:w-full" (change)="onSelectSubCategory($event)">
                    </ngx-select-dropdown>
                    @if (devicePlanForm.get('subCategory')?.invalid && devicePlanForm.get('subCategory')?.touched) {
                    <span class="text-danger">Device Sub Category is required</span>
                    }
                </div>

                <div class="col-md-4 mb-3">
                    <label class="form-label">Sim Type</label>
                    <ngx-select-dropdown [config]="config" formControlName="simType" [options]="simTypeListData"
                        class="lg:w-[250px] sm:w-full md:w-full">
                    </ngx-select-dropdown>
                    @if (devicePlanForm.get('simType')?.invalid && devicePlanForm.get('simType')?.touched) {
                    <span class="text-danger">Sim Type is required</span>
                    }
                </div>

                <div class="col-md-4 mb-3">
                    <label class="form-label">In Month</label>
                    <input type="number" class="form-control" formControlName="days" placeholder="Enter Month" />
                    @if (devicePlanForm.get('days')?.invalid && devicePlanForm.get('days')?.touched) {
                    <span class="text-danger">Month is required</span>
                    }
                </div>

                <!-- <div class="col-md-4 mb-3">
                    <label class="form-label">Extra Days</label>
                    <input type="number" class="form-control" formControlName="extraDays"
                        placeholder="Enter Extra Days" />
                    @if (devicePlanForm.get('extraDays')?.invalid && devicePlanForm.get('extraDays')?.touched) {
                    <span class="text-danger">Extra Days is required</span>
                    }
                </div> -->



            </div>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label class="form-label">Plan Rate</label>
                    <input type="number" class="form-control" formControlName="PlanRate"
                        placeholder="Enter Plan Rate" />
                    @if (devicePlanForm.get('PlanRate')?.invalid && devicePlanForm.get('PlanRate')?.touched) {
                    <span class="text-danger">Plan Rate is required</span>
                    }
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label">Start Date</label>
                    <input type="date" class="form-control" formControlName="startDate" />
                    @if (devicePlanForm.get('startDate')?.invalid && devicePlanForm.get('startDate')?.touched) {
                    <span class="text-danger">Start Date is required</span>
                    }
                </div>

                <div class="col-md-4 mb-3">
                    <label class="form-label">End Date</label>
                    <input type="date" class="form-control" formControlName="endDate" />
                    @if (devicePlanForm.get('endDate')?.invalid && devicePlanForm.get('endDate')?.touched) {
                    <span class="text-danger">End Date is required</span>
                    }
                </div>

            </div>

        </div>

        <div class="footer">
            <div class="button-container">
                <button class="btn btn-success" type="submit" (click)="submit(devicePlanForm.value)">Submit</button>
                <button class="btn btn-danger" type="button" (click)="cancel()">Cancel</button>
            </div>
        </div>

    </form>
</div>